(this.webpackJsonpcodeial=this.webpackJsonpcodeial||[]).push([[0],{36:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(20),r=n.n(c),i=(n(36),n(5)),o=n(6),l=n(8),d=n(7),u=n(2),h=n(9),p=n(4),j=n(10),m="https://codeial.codingninjas.com:8000/api/v2",b=function(){return"".concat(m,"/users/login")},f=function(){return"".concat(m,"/users/signup")},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return"".concat(m,"/posts?page=").concat(e,"&limit=").concat(t)},g=function(){return"".concat(m,"/users/edit")},v=function(e){return"".concat(m,"/users/").concat(e)},x=function(){return"".concat(m,"/friendship/fetch_user_friends")},C=function(e){return"".concat(m,"/friendship/create_friendship?user_id=").concat(e)},N=function(e){return"".concat(m,"/friendship/remove_friendship?user_id=").concat(e)},w=function(){return"".concat(m,"/posts/create")},S=function(){return"".concat(m,"/comments/")},y=function(e,t){return"".concat(m,"/likes/toggle?likeable_id=").concat(e,"&likeable_type=").concat(t)},k=function(e){return"".concat(m,"/users/search?text=").concat(e)},_="UPDATE_POSTS",P="LOGIN_START",E="LOGIN_SUCCESS",I="LOGIN_FAILED",T="SIGNUP_START",L="SIGNUP_SUCCESS",A="SIGNUP_FAILED",U="AUTHENTICATE_USER",F="LOG_OUT",R="CLEAR_AUTH_STATE",D="EDIT_USER_SUCCESSFUL",B="EDIT_USER_FAILED",M="USER_PROFILE_SUCCESS",z="FETCH_USER_PROFILE",G="USER_PROFILE_FAILURE",q="FETCH_FRIENDS_SUCCESS",H="ADD_FRIEND",W="REMOVE_FRIEND",J="ADD_POST",K="ADD_COMMENT",V="UPDATE_POST_LIKE",Q="FETCH_SEARCH_RESULTS_SUCCESS";function X(e){var t=[];for(var n in e){var s=encodeURIComponent(n),a=encodeURIComponent(e[n]);t.push(s+"="+a)}return t.join("&")}function Y(){return localStorage.getItem("token")}function Z(){return function(e){var t=O();fetch(t).then((function(e){return e.json()})).then((function(t){var n;console.log("data ",t),e((n=t.data.posts,{type:_,posts:n}))}))}}function $(e,t){return t.isloggedin||alert("please login first!!"),function(t){var n=w();fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())},body:X({content:e})}).then((function(e){return e.json()})).then((function(e){var n;e.success&&t((n=e.data.post,{type:J,post:n}))}))}}function ee(e,t,n){return n.isloggedin||alert("please login first!!"),function(n){var s=S();console.log("action",t),fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())},body:X({post_id:t,content:e})}).then((function(e){return e.json()})).then((function(e){e.success&&(console.log("action"),n(function(e,t){return{type:K,comment:e,postId:t}}(e.data.comment,t)))}))}}function te(e,t,n,s){return s.isloggedin||alert("please login first!!"),function(s){var a=y(e,t);fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())}}).then((function(e){return e.json()})).then((function(t){t.success&&s(function(e,t){return{type:V,postId:e,userId:t}}(e,n))}))}}var ne=n(0),se=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).handleChange=function(e){s.setState({content:e.target.value})},s.handleOnChange=function(){s.props.dispatch($(s.state.content,s.props.auth)),s.setState({content:""})},s.state={content:""},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(ne.jsxs)("div",{className:"create-post",children:[Object(ne.jsx)("textarea",{className:"add-post",placeholder:"Start writing a post...",onChange:this.handleChange,value:this.state.content}),Object(ne.jsx)("div",{children:Object(ne.jsx)("button",{id:"add-post-btn",onClick:this.handleOnChange,children:" Add Post"})})]})}}]),n}(s.Component);var ae=Object(h.b)((function(e){return{auth:e.auth}}))(se);var ce=function(e){var t=e.comment;return Object(ne.jsxs)("div",{className:"post-comment-item",children:[Object(ne.jsxs)("div",{className:"post-comment-header",children:[Object(ne.jsx)("span",{className:"post-comment-author",children:t.user.name}),Object(ne.jsx)("span",{className:"post-comment-time",children:"a minute ago"}),Object(ne.jsxs)("span",{className:"post-comment-likes",children:[t.likes.length," likes"]})]}),Object(ne.jsxs)("div",{className:"post-comment-content",children:[t.content," "]})]})},re=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).handleAddComment=function(e){var t=s.state.comment,n=s.props.post;"Enter"===e.key&&(s.props.dispatch(ee(t,n._id,s.props.auth)),s.setState({comment:""}))},s.handleCommentChange=function(e){s.setState({comment:e.target.value})},s.handlePostLike=function(){var e=s.props,t=e.post,n=e.user;s.props.dispatch(te(t._id,"Post",n._id,s.props.auth))},s.state={comment:""},s}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.user,s=this.state.comment,a=t.likes.includes(n._id);return Object(ne.jsx)("div",{className:"post-wrapper",children:Object(ne.jsxs)("div",{className:"post-header",children:[Object(ne.jsxs)("div",{className:"post-avatar",children:[Object(ne.jsx)(j.b,{to:"/user/".concat(t.user._id),children:Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"user-pic"})}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{className:"post-author",children:t.user.name}),Object(ne.jsx)("span",{className:"post-time",children:"a minute ago"})]})]}),Object(ne.jsx)("div",{className:"post-content",children:t.content}),Object(ne.jsxs)("div",{className:"post-actions",children:["  ",Object(ne.jsxs)("button",{className:"post-like no-btn",onClick:this.handlePostLike,children:[a?Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/833/833472.png",alt:"likes-icon"}):Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1077/1077035.png",alt:"likes-icon"}),Object(ne.jsx)("span",{children:t.likes.length})]}),Object(ne.jsxs)("div",{className:"post-comments-icon",children:[Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1380/1380338.png",alt:"comments-icon"}),Object(ne.jsx)("span",{children:t.comments.length})]})]}),Object(ne.jsx)("div",{className:"post-comment-box",children:Object(ne.jsx)("input",{placeholder:"Start typing a comment",onKeyPress:this.handleAddComment,onChange:this.handleCommentChange,value:s})}),Object(ne.jsx)("div",{className:"post-comments-list",children:t.comments.map((function(e){return Object(ne.jsx)(ce,{comment:e,postId:t._id},e._id)}))})]})},t._id)}}]),n}(a.a.Component);var ie=Object(h.b)((function(e){var t=e.auth;return{user:t.user,auth:t}}))(re),oe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.posts;return Object(ne.jsxs)("div",{className:"posts-list",children:[Object(ne.jsx)(ae,{}),e.map((function(e){return Object(ne.jsx)(ie,{post:e},e._id)}))]})}}]),n}(s.Component),le=function(e){return Object(ne.jsx)("div",{children:Object(ne.jsxs)(j.b,{className:"friends-item",to:"/user/".concat(e.friend._id),children:[Object(ne.jsx)("div",{className:"friends-img",children:Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"user-pic"})}),Object(ne.jsx)("div",{className:"friends-name",children:e.friend.email})]})})},de=function(e){return Object(ne.jsxs)("div",{className:"friends-list",children:[Object(ne.jsx)("div",{className:"header",children:" Friends"}),e.friends&&0==e.friends.length&&Object(ne.jsx)("div",{className:"no-friends",children:" No Friends Found!!"}),e.friends&&e.friends.map((function(e){return Object(ne.jsx)(le,{friend:e.to_user},e._id)}))]})},ue=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(ne.jsxs)("div",{className:"home",children:[Object(ne.jsx)(oe,{posts:this.props.posts}),this.props.isLoggedin&&Object(ne.jsx)(de,{friends:this.props.friends})]})}}]),n}(s.Component);function he(e,t){return function(n){n({type:P});var s=b();fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:X({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){if(console.log("edit user data",e),e.success)return localStorage.setItem("token",e.data.token),console.log("token",e.data.token),void n((t=e.data.user,{type:E,user:t}));var t,s;n((s=e.message,{type:I,error:s}))}))}}function pe(e,t,n,s){return function(a){a({type:T});var c=f();fetch(c,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:X({email:t,name:e,password:n,confirm_password:s})}).then((function(e){return e.json()})).then((function(e){var t,n;(console.log(e),e.success)?a((t=e.data.user,{type:L,user:t})):a((n=e.message,{type:A,error:n}))}))}}function je(){return{type:F}}function me(){return{type:R}}function be(e,t,n,s){return function(a){var c=g();fetch(c,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())},body:X({name:e,password:t,confirm_password:n,id:s})}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.success)return a((t=e.data.user,{type:D,user:t})),void(e.data.token&&localStorage.setItem("token",e.data.token));var t,n;a((n=e.message,{type:B,error:n}))}))}}function fe(e,t){return t.isloggedin||alert("please login first!!"),function(t){var n=k(e);fetch(n,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())}}).then((function(e){return e.json()})).then((function(e){e.success?t(Oe(e.data.users)):t(Oe([]))}))}}function Oe(e){return{type:Q,users:e}}var ge=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).logout=function(){localStorage.removeItem("token"),e.props.dispatch(je())},e.handleSearch=function(t){var n=t.target.value;e.props.dispatch(fe(n,e.props.auth))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.auth,t=this.props.results;return Object(ne.jsxs)("nav",{className:"nav",children:[Object(ne.jsx)("div",{className:"left-div",children:Object(ne.jsx)(j.b,{to:"/codeial",children:Object(ne.jsx)("img",{src:"https://ninjasfiles.s3.amazonaws.com/0000000000003454.png",alt:"logo"})})}),Object(ne.jsxs)("div",{className:"search-container",children:[Object(ne.jsx)("img",{className:"search-icon",src:"https://cdn-icons-png.flaticon.com/512/149/149852.png",alt:"search-icon"}),Object(ne.jsx)("input",{placeholder:"Search",onChange:this.handleSearch,id:"searchBar"}),t.length>0&&document.activeElement==document.getElementById("searchBar")&&Object(ne.jsx)("div",{className:"search-results",children:Object(ne.jsx)("ul",{children:t.map((function(e){return Object(ne.jsx)("li",{className:"search-results-row",children:Object(ne.jsxs)(j.b,{to:"/user/".concat(e._id),children:[Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"user-dp"}),Object(ne.jsx)("span",{children:e.name})]})},e._id)}))})})]}),Object(ne.jsxs)("div",{className:"right-nav",children:[e.isLoggedin&&Object(ne.jsxs)("div",{className:"user",children:[Object(ne.jsx)(j.b,{to:"/settings",children:Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"user-dp",id:"user-dp"})}),Object(ne.jsx)("span",{children:e.user.name})]}),Object(ne.jsx)("div",{className:"nav-links",children:Object(ne.jsxs)("ul",{children:[!e.isLoggedin&&Object(ne.jsx)("li",{children:Object(ne.jsx)(j.b,{to:"/login",children:"Login"})}),e.isLoggedin&&Object(ne.jsx)("li",{onClick:this.logout,children:"Logout"}),!e.isLoggedin&&Object(ne.jsx)("li",{children:Object(ne.jsx)(j.b,{to:"/signup",children:"Signup"})})]})})]})]})}}]),n}(s.Component);var ve=Object(h.b)((function(e){return{auth:e.auth,results:e.search.results}}))(ge),xe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(ne.jsx)("h1",{children:"Page not found!"})}}]),n}(a.a.Component),Ce=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).handleEmailChange=function(e){s.setState({email:e.target.value})},s.handlePasswordChange=function(e){s.setState({password:e.target.value})},s.handleSubmit=function(e){e.preventDefault(),console.log(s.state);var t=s.state,n=t.email,a=t.password;n&&a&&s.props.dispatch(he(n,a))},s.state={email:"",password:""},s}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(me())}},{key:"render",value:function(){var e=this.props.auth,t=e.error,n=e.inProgress,s=e.isLoggedin,a=(this.props.location.state||{from:{pathname:"/codeial"}}).from;return s?Object(ne.jsx)(p.a,{to:a}):Object(ne.jsx)("div",{children:Object(ne.jsxs)("form",{className:"login-form",children:[Object(ne.jsx)("span",{className:"login-signup-header",children:"Log in"}),t&&Object(ne.jsx)("div",{className:"alert error-dailog",children:t}),Object(ne.jsx)("div",{className:"field",children:Object(ne.jsx)("input",{type:"email",placeholder:"Email",required:!0,onChange:this.handleEmailChange,value:this.state.email})}),Object(ne.jsx)("div",{className:"field",children:Object(ne.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:this.handlePasswordChange,value:this.state.password})}),Object(ne.jsx)("div",{className:"field",children:n?Object(ne.jsx)("button",{onClick:this.handleSubmit,disabled:n,children:"Logging in..."}):Object(ne.jsx)("button",{onClick:this.handleSubmit,disabled:n,children:"Log in"})})]})})}}]),n}(a.a.Component);var Ne=Object(h.b)((function(e){return{auth:e.auth}}))(Ce),we=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).handleNameChange=function(e){s.setState({userName:e.target.value})},s.handleEmailChange=function(e){s.setState({email:e.target.value})},s.handlePasswordChange=function(e){s.setState({password:e.target.value})},s.handleConfirmPasswordChange=function(e){s.setState({confirmPassword:e.target.value})},s.handleSubmit=function(e){e.preventDefault();var t=s.state,n=t.userName,a=t.email,c=t.password,r=t.confirmPassword;a&&c&&r&&n&&s.props.dispatch(pe(n,a,c,r))},s.state={userName:"",email:"",password:"",confirmPassword:""},s}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(me())}},{key:"render",value:function(){var e=this.props.auth,t=e.error,n=e.inProgress;return e.isLoggedin?Object(ne.jsx)(p.a,{to:"/codeial"}):Object(ne.jsx)("div",{children:Object(ne.jsxs)("form",{className:"login-form",children:[Object(ne.jsx)("span",{className:"login-signup-header",children:"Sign Up"}),t&&Object(ne.jsx)("div",{className:"alert error-dailog",children:t}),Object(ne.jsx)("div",{className:"field",children:Object(ne.jsx)("input",{type:"text",onChange:this.handleNameChange,placeholder:"Name",required:!0})}),Object(ne.jsx)("div",{className:"field",children:Object(ne.jsx)("input",{type:"email",onChange:this.handleEmailChange,placeholder:"Email",required:!0})}),Object(ne.jsx)("div",{className:"field",children:Object(ne.jsx)("input",{type:"password",onChange:this.handlePasswordChange,placeholder:"Password",required:!0})}),Object(ne.jsx)("div",{className:"field",children:Object(ne.jsx)("input",{type:"password",onChange:this.handleConfirmPasswordChange,placeholder:"Confirm Password",required:!0})}),Object(ne.jsx)("div",{className:"field",children:n?Object(ne.jsx)("button",{onClick:this.handleSubmit,disabled:n,children:"Signing In..."}):Object(ne.jsx)("button",{onClick:this.handleSubmit,disabled:n,children:"Sign Up"})})]})})}}]),n}(a.a.Component);var Se=Object(h.b)((function(e){return{auth:e.auth}}))(we),ye=n(29),ke=n(22),_e=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).handleChange=function(e,t){s.setState(Object(ke.a)({},e,t))},s.handleSave=function(){var e=s.state,t=e.password,n=e.confirmPassword,a=e.name,c=s.props.auth.user;s.props.dispatch(be(a,t,n,c._id))},s.state={name:e.auth.user.name,password:"",confirmPassword:"",editMode:!1},s}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.auth,n=t.user,s=t.error,a=this.state.editMode;return Object(ne.jsxs)("div",{className:"settings",children:[Object(ne.jsx)("div",{className:"img-container",children:Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"user-dp"})}),s&&Object(ne.jsx)("div",{className:"alert error-dailog",children:s}),!1===s&&Object(ne.jsx)("div",{className:"alert success-dailog",children:"Successfully updated profile"}),Object(ne.jsxs)("div",{className:"field",children:[Object(ne.jsx)("div",{className:"field-label",children:" Email "}),Object(ne.jsx)("div",{className:"field-value",children:n.email})]}),Object(ne.jsxs)("div",{className:"field",children:[Object(ne.jsx)("div",{className:"field-label",children:" Name "}),a?Object(ne.jsx)("input",{type:"text",onChange:function(t){return e.handleChange("name",t.target.value)},value:this.state.name}):Object(ne.jsx)("div",{className:"field-value",children:n.name})]}),a&&Object(ne.jsxs)("div",{className:"field",children:[Object(ne.jsx)("div",{className:"filed-label",children:"New Password"}),Object(ne.jsx)("input",{type:"password",onChange:function(t){return e.handleChange("password",t.target.value)},value:this.state.password})]}),a&&Object(ne.jsxs)("div",{className:"field",children:[Object(ne.jsx)("div",{className:"filed-label",children:"Confirm Password"}),Object(ne.jsx)("input",{type:"password",onChange:function(t){return e.handleChange("confirmPassword",t.target.value)},value:this.state.confirmPassword})]}),Object(ne.jsxs)("div",{className:"btn-grp",children:[a?Object(ne.jsx)("button",{className:"button save-btn",onClick:this.handleSave,children:"Save"}):Object(ne.jsx)("button",{className:"button edit-btn",onClick:function(){return e.handleChange("editMode",!0)},children:"Edit Profile"}),a&&Object(ne.jsx)("button",{onClick:function(){return e.handleChange("editMode",!1)},className:"go-back",children:"Go Back"})]})]})}},{key:"componentWillUnmount",value:function(){this.props.dispatch(me())}}]),n}(a.a.Component);var Pe=Object(h.b)((function(e){return{auth:e.auth}}))(_e),Ee=n(19),Ie=n.n(Ee),Te=n(26);function Le(e){return function(t){var n;t({type:z,user:n});var s=v(e);fetch(s,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())}}).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:M,user:e}}(e.data.user))}))}}function Ae(e){return function(e){var t=x();fetch(t,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())}}).then((function(e){return e.json()})).then((function(t){var n;e((n=t.data.friends,{type:q,friends:n}))}))}}function Ue(e){return{type:W,userId:e}}var Fe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).checkIfUserIsAFriend=function(){var e=s.props,t=e.match,n=e.friends,a=t.params.userId;return-1!==n.map((function(e){return e.to_user._id})).indexOf(a)},s.handleAddFriendClick=Object(Te.a)(Ie.a.mark((function e(){var t,n,a;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.props.match.params.userId,n=C(t),a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())}},fetch(n,a).then((function(e){e.json()})).then((function(e){var t;e.success?(s.setState({success:!0,successMessage:"Added Friend Successfully!"}),s.props.dispatch((t=e.data.friendship,{type:H,friend:t}))):s.setState({success:null,error:e.message})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),s.handleRemoveFriendClick=Object(Te.a)(Ie.a.mark((function e(){var t,n,a,c,r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.match.params.userId,n=N(t),a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(Y())}},e.next=5,fetch(n,a);case 5:return c=e.sent,e.next=8,c.json();case 8:(r=e.sent).success?(s.setState({success:!0,successMessage:"Removed Friend Successfully!"}),s.props.dispatch(Ue(t))):s.setState({success:null,error:r.message});case 10:case"end":return e.stop()}}),e)}))),s.state={success:null,error:null,successMessage:null},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match;e.params.userId&&this.props.dispatch(Le(e.params.userId))}},{key:"componentDidUpdate",value:function(e){var t=e.match.params,n=this.props.match.params;t&&n&&t.userId!==n.userId&&this.props.dispatch(Le(n.userId))}},{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.match.params,n=e.profile,s=n.user;if(console.log("params",t),n.inProgress)return Object(ne.jsx)("h1",{children:"Loading!!"});var a=this.checkIfUserIsAFriend(),c=this.state,r=c.success,i=c.error,o=c.successMessage;return Object(ne.jsxs)("div",{className:"settings",children:[Object(ne.jsx)("div",{className:"img-container",children:Object(ne.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"user-dp"})}),Object(ne.jsxs)("div",{className:"field",children:[Object(ne.jsx)("div",{className:"field-label",children:" Name "}),Object(ne.jsx)("div",{className:"field-value",children:s.name})]}),Object(ne.jsxs)("div",{className:"field",children:[Object(ne.jsx)("div",{className:"field-label",children:" Email "}),Object(ne.jsx)("div",{className:"field-value",children:s.email})]}),Object(ne.jsxs)("div",{className:"btn-grp",children:[a?Object(ne.jsx)("button",{className:"button save-btn",onClick:this.handleRemoveFriendClick,children:"Remove Friend"}):Object(ne.jsx)("button",{className:"button save-btn",onClick:this.handleAddFriendClick,children:"Add Friend"}),r&&Object(ne.jsx)("div",{className:"alert success-dailog",children:o}),i&&Object(ne.jsx)("div",{className:"alert error-dailog",children:i})]})]})}}]),n}(a.a.Component);var Re=Object(h.b)((function(e){return{profile:e.profile,friends:e.friends}}))(Fe),De=function(e){var t=e.isLoggedin,n=e.component,s=e.path;return Object(ne.jsx)(p.b,{path:s,render:function(e){return t?Object(ne.jsx)(n,Object(u.a)({},e)):Object(ne.jsx)(p.a,{to:{pathname:"/login",state:{from:e.location}}})}})},Be=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(Z());var e=Y();if(e){var t=Object(ye.a)(e);console.log("jwtUser",t),this.props.dispatch(function(e){return{type:U,user:e}}({email:t.email,_id:t._id,name:t.name})),this.props.dispatch(Ae())}}},{key:"render",value:function(){var e=this;return console.log("in app.js",this.props.posts),Object(ne.jsx)(j.a,{children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)(ve,{}),Object(ne.jsxs)(p.d,{children:[Object(ne.jsx)(p.b,{path:"/codeial",exact:!0,render:function(t){return Object(ne.jsx)(ue,Object(u.a)(Object(u.a)({},t),{},{posts:e.props.posts,friends:e.props.friends,isLoggedin:e.props.auth.isLoggedin}))}}),Object(ne.jsx)(p.b,{path:"/login",component:Ne}),Object(ne.jsx)(p.b,{path:"/signup",component:Se}),Object(ne.jsx)(De,{path:"/settings",component:Pe,isLoggedin:this.props.auth.isLoggedin}),Object(ne.jsx)(De,{path:"/user/:userId",component:Re,isLoggedin:this.props.auth.isLoggedin}),Object(ne.jsx)(p.b,{component:xe})]})]})})}}]),n}(a.a.Component);var Me=Object(h.b)((function(e){return{posts:e.posts,auth:e.auth,friends:e.friends}}))(Be),ze=n(18),Ge=n(30),qe=n(31),He=n.n(qe),We=n(16);var Je={user:{},isLoggedin:!1,isloggedin:!1,inProgress:!1,error:null},Ke={user:{},error:null,success:null,inProgress:!1};var Ve=[];var Qe={results:[]};var Xe=Object(ze.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.posts;case J:return[t.post].concat(Object(We.a)(e));case K:var n=e.map((function(e){return e._id===t.postId?Object(u.a)(Object(u.a)({},e),{},{comments:[t.comment].concat(Object(We.a)(e.comments))}):e}));return n;case V:var s=e.map((function(e){return e._id===t.postId?Object(u.a)(Object(u.a)({},e),{},{likes:[t.userId].concat(Object(We.a)(e.likes))}):e}));return s;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case L:return Object(u.a)(Object(u.a)({},e),{},{isLoggedin:!0,isloggedin:!0,inProgress:!1,user:t.user,error:null});case I:case A:return Object(u.a)(Object(u.a)({},e),{},{inProgress:!1,error:t.error});case P:case T:return Object(u.a)(Object(u.a)({},e),{},{inProgress:!0});case U:return Object(u.a)(Object(u.a)({},e),{},{user:t.user,isLoggedin:!0,isloggedin:!0});case F:return Object(u.a)(Object(u.a)({},e),{},{user:{},isLoggedin:!1,isloggedin:!1});case R:return Object(u.a)(Object(u.a)({},e),{},{error:null});case B:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case D:return Object(u.a)(Object(u.a)({},e),{},{user:t.user,error:!1});default:return Object(u.a)({},e)}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(u.a)(Object(u.a)({},e),{},{user:t.user,inProgress:!1,error:null,success:!0});case G:return Object(u.a)(Object(u.a)({},e),{},{inProgress:!1,error:t.error});case z:return Object(u.a)(Object(u.a)({},e),{},{inProgress:!0});default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(We.a)(t.friends);case H:return e.concat(t.friend);case W:var n=e.filter((function(e){return e.to_user._id!==t.userId}));return n;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(u.a)(Object(u.a)({},e),{},{results:t.users});default:return Object(u.a)({},e)}}});var Ye=Object(ze.c)(Xe,Object(ze.a)(Ge.a,He.a));console.log(Ye.getState()),r.a.render(Object(ne.jsx)(a.a.StrictMode,{children:Object(ne.jsxs)(h.a,{store:Ye,children:["  ",Object(ne.jsx)(Me,{})]})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.0b5ff2ea.chunk.js.map